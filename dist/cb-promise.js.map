{"version":3,"sources":["../src/cb-promise.js"],"names":["fs","require","util","promisify","readFile","then","JSON","parse","console","log","data","name","catch","err"],"mappings":";;AAAA,IAAMA,KAAKC,QAAQ,IAAR,CAAX;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAMC,OAAOD,QAAQ,MAAR,CAAb;;AAEAC,KAAKC,SAAL,CAAeH,GAAGI,QAAlB,EAA4B,gBAA5B,EACGC,IADH,CACQC,KAAKC,KADb,EAEGF,IAFH,CAEQ,gBAAQ;AACZG,UAAQC,GAAR,CAAYC,KAAKC,IAAjB;AACD,CAJH,EAKGC,KALH,CAKS,eAAO;AACZJ,UAAQC,GAAR,CAAYI,GAAZ;AACD,CAPH","file":"cb-promise.js","sourcesContent":["const fs = require('fs')\n\n// - 回调式写法 -\n// fs.readFile('./package.json', (err, data) => {\n//   if (err) return console.log(err)\n\n//   data = JSON.parse(data)\n//   console.log(data.name)\n// })\n\n// - promise -\n// function readFileAsync(path) {\n//   return new Promise((resolve, reject) => {\n//     fs.readFile(path, (err, data) => {\n//       if (err) reject(err)\n//       else resolve(data)\n//     })\n//   })\n// }\n\n// readFileAsync('./package.json')\n//   .then(data => {\n//     data = JSON.parse(data)\n//     console.log(data.name)\n//   })\n//   .catch(err => {\n//     console.log(err)\n//   })\n\n// - promisify\n// 包装回调式的api，使其可以直接使用promise -\nconst util = require('util');\n\nutil.promisify(fs.readFile)('./package.json')\n  .then(JSON.parse)\n  .then(data => {\n    console.log(data.name)\n  })\n  .catch(err => {\n    console.log(err)\n  })\n\n\n\n\n"]}